<!DOCTYPE html>
<html>
<head>
	<title>방명록</title>
	<meta charset="UTF-8">
	<style>
		h1 {
			text-align: center;
		}
		
		form {
			display: flex;
			flex-direction: column;
			align-items: center;
			margin-top: 50px;
			margin-bottom: 50px;
		}
		
		input[type="submit"] {
			background-color: #4CAF50;
			color: white;
			padding: 10px 20px;
			text-align: center;
			text-decoration: none;
			font-size: 16px;
			margin: 4px;
			cursor: pointer;
			border-radius: 10px;
			box-sizing: border-box;
			width: 200px;
			border: none;
		}
		
		label {
			margin: 10px;
		}
		
		input[type="text"], textarea {
			padding: 5px;
			width: 300px;
			border-radius: 5px;
			border: 1px solid #ccc;
			box-sizing: border-box;
		}
		
		.post {
			border: 1px solid #ccc;
			border-radius: 5px;
			margin: 10px;
			padding: 10px;
			max-width: 500px;
			display: flex;
			flex-direction: column;
			align-items: flex-start;
			background-color: #f9f9f9;
		}
		
		.post h2 {
			margin-top: 0;
		}
		
		.post p {
			margin: 10px 0;
		}
		
		.post .date {
			font-size: 12px;
			color: #666;
			margin-top: auto;
			text-align: right;
		}
		
		.quote {
			font-size: 18px;
			text-align: right;
			margin-top: 50px;
		}
		
		.author {
			font-size: 20px;
			color: #4CAF50;
		}
	</style>
</head>
<body>
	<h1>방명록</h1>
	
	<!-- 방명록 작성 양식 -->
	<form method="post" action="post_guestbook.php">
		<label for="name">이름:</label>
		<input type="text" name="name" required>
		<label for="message">메시지:</label>
		<textarea name="message" rows="5" required></textarea>
		<input type="submit" value="작성">
	</form>
	
	<!-- 작성된 방명록 목록 -->
	<div>
		<?php
			// DB 연결 및 데이터 조회
			$db_host = "localhost";
			$db_user = "username";
			$db_password = "password";
			$db_name = "database_name";
			$conn = mysqli_connect($db_host, $db_user, $db_password, $db_name);
			if (!$conn) {
				die("Connection failed: " . mysqli_connect_error());
			}
			$sql = "SELECT * FROM guestbook ORDER BY id DESC";
			$result = mysqli_query($conn, $sql);
			
			// 데이터 출력
			if (mysqli_num_rows($result) > 0) {
				while($row = mysqli_fetch_assoc($result)) {
					echo "<div class='post'>";
					echo "<
